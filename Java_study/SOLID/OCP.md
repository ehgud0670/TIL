## OCP(Open Close Principle)
## 개방 폐쇄의 원칙
-> 모듈은 수정에는 닫혀있고, 확장에는 열려있어야 한다. <br>
: 새로운 기능이 추가되어도, 기존 코드는 수정되면 안된다. <br>

* 기존의 코드를 변경하지 않으면서 기능을 추가할 수 있도록 설계가 되어야 한다. 
=> 추상 클래스나 인터페이스는 새로운 기능이 추가될 순 있어도, 클라이언트는 수정해서는 안된다는 말인가?? <br>
* 클라이언트가 개별적인 클래스를 처리하도록 하지 않고, 인터페이스가 해당 클래스들을 캡슐화 해 처리하도록 해야 한다.

case1:<br>
someClient 라는 클래스가 성적표 클래스와 출석부 클래스에 의존하여 학생의 성적이나 출석기록을 출력한다고 예를 들어보자. <br>
이때 만약 도서관 대여 명부와 같은 새로운 매체에 학생의 대여 기록을 출력하는 경우라면 도서관 대여 명부 관련 클래스를 만들고, someClient 클래스가 새롭게 이 클래스를 의존하면 될 것이다.<br> 
하지만 이는 OCP에 위배된다. 구체적인 클래스인 someClient 클래스의 수정이 발생하였기 때문이다. <br>

=> 그럼 이 경우 어떻게 문제를 해결하면 좋을까? 어떤 것을 출력하는 인터페이스를 만들어 이 인터페이스가 도서관 대여 명부 관련 클래스를 의존하고, 이후 이 인터페이스를 someClient가 의존하면 될 것이다.
그럼 인터페이스의 다형성적인 특성으로 someClient 클래스는 수정하지 않아도 된다.<br>

* someClient 클래스가 구체적인 클래스를 처리(의존)하지 않고, 인터페이스에서 구체적인 출력 매체를 캡슐화해야 한다.


case2: 단위 테스트를 할때 진짜 객체를 사용하지 않고 가짜 객체를 사용 할 경우(환경이 변할 때), 클래스를 변경하지 않고도 환경을 바꿀 수 있어야 한다.(OCP)<br>


* 예를 들어 테스트 대상이 되는 기능이 네트워크를 통해 웹 서비스를 사용한다고 하자. 이런 경우 데이터베이스나 웹 서버를 설치해야 테스트를 할 수 있는데, 단위 테스트의 가장 중요한 점은 빠른 시간에 자주 테스트를 해야 한다는 것인데 데이터베이스나 웹 서버의 설치는 시간이 오래 걸리므로 이는 적절치 못한 상황이다.그리고 단지 테스트를 위해서 데이터베이스에 삭제를 포함한 여러 작업을 실행한다고 생각해보면, 테스트만의 위해서 고유의 데이터를 삭제한다는 건 옳지 않은 상황이다. 이에 대한 해결책으로 데이터베이스나 웹 서버의 객체를 대신할 수 있는 가짜 객체를 생성하여 해당 기능을 테스트한다.

* 또, 테스트 대상 기능이 특정 상태에 의존해서 동작할 수 있다는 점도 고려해야 한다. 예를 들어 비행기 관제 기능 중 동시에 착륙하려고 하는 비행기 수가 1000대인 경우를 테스트한다고 생각해볼때, 실제로 1000대의 비행기를 착률할 수는 없으므로 이 경우도 가짜 객체를 사용하면 가상으로 1000대가 착륙하는 상황을 만들 수 있다. 즉 이경우도 실제 상황 대신 가짜 상황으로 기능을 테스트한다는 것이다.

=> 이 2가지의 경우, 모두 기능, 즉 클래스를 진짜 상황이 아닌 가짜 상황을 이용하여 단위 테스트를 진행하고 있다. 이 경우 테스트 대상이 되는 클래스가 진짜 상황의 구체적인 클래스에 의존한다면, 클래스를 직접 수정하여 가짜 상황의 구체적인 클래스로 의존하게 바꿔야 할 것이다.<br> 
=> 이는 OCP에 위배된다. 따라서 진짜 상황 클래스, 가짜 상황 클래스를 모두 캡슐화할 수 있는 인터페이스를 만들고 
테스트 대상 클래스가 이 인터페이스를 이용하도록 한다면 클래스를 변경하지 않고도, 환경을 변경할 수 있다.<br>

* OCP를 보는 또 하나의 관점은 클래스를 변경하지 않고도(closed), 대상 클래스의 환경을 변경할 수 있는(open) 설계가 되어야 한다는 것이다. 
