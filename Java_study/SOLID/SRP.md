## SRP(Single Responsibility Principle)
## 단일 책임 원칙
-> 모듈(변수, 함수,클래스, 프로그램)은 단 하나의 책임을 
 가져야 한다.<br>

* 객체지향 설계 관점에서 SRP에서 말하는 책임의 기본 단위는 객체를 지칭한다.
* 객체는 단 하나의 책임만을 가져야 한다. 

> 책임이란 무엇인가?
책임이란 보통 '해야 하는 것'이나 '할 수 있는 것'으로 간주된다. **객체에 책임을 할당할 때는 어떤 객체보다도 작업을 잘 할 수 있는 객체에 책임을 할당해야 한다.**<br>
**또한 객체는 책임에 수반되는 모든 일을 자신만이 수행할 수 있어야 한다.**
<br><br><br>
(예시)<br>
Student 클래스가 다음의 역할을 수행한다고 가정하자.<br>
* 수강 과목을 추가하거나 조회한다.
* 데이터베이스에 객체 정보를 저장하거나 데이터베이스에 객체 정보를 읽는 작업을 처리한다.
* 성적표와 출석부에 출력하는 일을 한다.

다음의 코드처럼 정의될 것이다.<br>
```java
public class Student {
	public void getCourses(){...}
	public void addCourses(Course c){...}
	public void save(){...}
	public Student load(){...}
	public void printOnReportCard(){...}
	public void printOnAttendanceBook(){...}

```
=> 이는 Student 클래스에게 너무 많은 책임을 수행하는 경우이다. Student 클래스가 누구보다 제일 잘하고 제일 해야하고, 자신만이 수행할 수 있는건 과목을 추가하고 과목을 조회하는 일 일 것이다. <br>
=> 데이터베이스에 객체 정보를 저장하거나 데이터베이스에 객체 정보를 읽는 작업은 수강신청 관련 관계자 또는 프로그램이 해야 할 것이고, 성적표와 출석부를 출력하는 일도 학교 프로그램이 담당해야 할 것이다. <br>
=> 따라서 **Student 클래스에는 수강 과목을 추가하고 조회하는 책임만 수행하도록 하는 것**이 SRP를 따르는 설계다.

> 변경 : 변경을 언제 해야 하는가.

* 클래스의 변경이 있을 수 있다. 하지만 예측하지 못한 변경사항이 발생하더라도 유연하고 확장성이 있도록 시스템 구조를 설계해야 한다. 
* 좋은 설계란 기본적으로 시스템에 새로운 요구사항이나 변경이 있을 때 가능한 한 영향 받는 부분을 줄여야 한다. 


1. 데이터베이스의 스키마가 변경된다면 Student 클래스도 변경되어야 하는가? 
2. 학생이 지도 교수를 찾는 기능이 추가되어야 한다면 Student 클래스는 영향을 받는가? 
3. 학생 정보를 성적표와 출석부 이외의 형식으로 출력해야 한다면 어떻게 해야 하는가?
=> 이 3가지의 경우 2번만이 Student 클래스의 변경사항이 된다. 그러나 맨 처음과 같이 Student 클래스 자체에 많이 책임이 물린다면 변경사항이 2가지 경우가 더 늘어나게 되고 이는 좋지 않은 현상이다.<br>
=> 더 좋지 않은 현상은 클래스 하나가 책임을 많이 물수록 클래스 내부에서 서로 다른 역할을 수행하는 코드끼리 강하게 결합될 가능성이 높아진다. 예를 들어 현재 수강 과목을 조회하는 코드(getCourse 메소드)와 데이터 베이스에서 학생 정보를 가져오는 코드(load 메소드)중 어딘가가 연결 될 수 있는 것인데 이런 경우 데이터 베이스 스키마의 변화가 getCourse 메소드의 변화를 불러 올 수 있으므로 **전혀 영향받으면 안될 코드가 영향을 받게 되므로 이는 나쁜 현상이다.**<br>


* 따라서 책임을 하나로 책정해 변경을 최소화하자. 책임이 변경의 이유이다.

> 책임 분리
=>맨 위의 경우 Student 클래스가 여러 책임을 수행하므로 Student 클래스의 도움을 필요로 하는 코드도 많을 수 밖에 없다. 학생의 수강 과목 목록 관련하여 어떤 일을 수행하는 코드, 신입생 정보를 데이터베이스에 기록하는 코드, 성적표와 출석부를 필요로 하는 코드 모두 Student 클래스를 사용할 수 밖에 없다. 이 경우 Student의 변경사항이 생기면, 해당 변경사항과 관련없이 Student 클래스를 사용하는 코드도 다시 테스트를 받아야 한다.(클래스가 변경사항이 있다면, 클래스의 어떤 메소드를 사용하는 코드이건 다시 테스트를 받아야 하나보다) 이는 너무 많은 테스트를 하게 되므로 큰 낭비를 발생시키게 된다.<br>
(참고로, 이와 같이 어떤 변화가 있을 때 해당 변화가 기존 시스템의 기능에 영향을 주는지 평가하는 테스트를 회귀regression 테스트라 한다.)<br>
=> 회귀 테스트의 비용을 줄이는 방법은 해당 클래스는 하나의 책임만을 갖고 다른 책임은 다른 클래스에 부여하게 해 변경사항시 영향을 적게 하는 것이다. 

* 한 클래스에 너무 많은 책임을 부여하지 말고 단 하나의 책임만 수행하도록 해 변경 사유가 될 수 있는 것을 하나로 만들어야 한다.

(solution)<br>
: Student 클래스는 학생 고유의 역할(수강신청 조회, 수업 추가등등)을 수행하게끔 변경하고 , 데이터베이스 관련 책임은 학생 DAO클래스를 만들어 할당, 성적표는 성적표 클래스, 출석부는 출석부 클래스로 분리시키는 것이다. <br>
: 이는 예를 들어 데이터베이스 관련 변경사항이 생기면 학생 DAO와 이 클래스를 사용하는 클래스만 테스트하면 되므로 비용이 적게든다.<br>
: **이와 같이 클래스들이 책임을 적절하게 분담하도록 변경하면 어떤 변화가 생겼을 때 영향을 최소화 할 수 있다.**<br>
