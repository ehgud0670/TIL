```swift
let input = readLine()!
var lineCount: Int = 0
var result: Int = 0

for i in 0 ..< input.count {
    let index = input.index(input.startIndex, offsetBy: i)
    if input[index] == "(" {
        lineCount += 1
        continue
    }
    
    if input[index] == ")" {
        lineCount -= 1
        let prevIndex = input.index(index, offsetBy: -1)
        if input[prevIndex] == "(" {
            result += lineCount
        } else {
            result += 1
        }
    }
}
print(result)
```